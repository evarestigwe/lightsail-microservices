{{- $fullName := include "common.fullname" . -}}
{{- $servicePort := .Values.service.port -}}
{{- $ingressHost := .Values.ingress.host | default (printf "%s.%s" $fullName "example.com") -}}
{{- $env := .Release.Namespace -}}

ğŸ‰ {{ .Chart.Name | title }} successfully deployed!

ğŸ“¦ Release Details
-------------------
â€¢ Name: {{ .Release.Name }}
â€¢ Namespace: {{ .Release.Namespace }}
â€¢ Version: {{ .Chart.Version }}
â€¢ App Version: {{ .Chart.AppVersion }}
â€¢ Helm Revision: {{ .Release.Revision }}

ğŸ” Access Information
-------------------
{{- if .Values.ingress.enabled }}
ğŸŒ Ingress Host: https://{{ $ingressHost }}
TLS Secret: {{ $.Values.global.ingress.tlsSecretName }}
Load Balancer: {{ $.Values.global.ingress.loadBalancerDNS }}
{{- else }}
ğŸ’» Service (ClusterIP): {{ $fullName }}:{{ $servicePort }}
{{- end }}

ğŸ§  Traceability
-------------------
Commit: {{ .Values.release.annotations.commit | default "N/A" }}
Triggered by: {{ .Values.release.annotations.actor | default "N/A" }}
Run URL: {{ .Values.release.annotations.run_url | default "N/A" }}

ğŸ’¡ Next Steps
-------------------
ğŸ‘‰ Check pod status:
    kubectl get pods -n {{ .Release.Namespace }} -l app={{ include "common.name" . }}

ğŸ‘‰ View logs:
    kubectl logs -l app={{ include "common.name" . }} -n {{ .Release.Namespace }}

ğŸ‘‰ Roll back to previous version:
    helm rollback {{ .Release.Name }} {{ sub .Release.Revision 1 }}
